import{o as Y,C as Z,D as q,r as b,G as F,H as L,I,J,K as Q}from"./index-BiH_W8qU.js";var _={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const U=Y(_);var R=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function z(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(U[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var y=new RegExp(R),s=null;(s=y.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),h=[o,""];o.indexOf("=")>-1&&(h=o.split("=")),n.attrs[h[0]]=h[1],y.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,te=/^\s*$/,ne=Object.create(null);function M(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var a=[];for(var y in t)a.push(y+'="'+t[y]+'"');return a.length?" "+a.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(M,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var se={parse:function(e,n){n||(n={}),n.components||(n.components=ne);var t,a=[],y=[],s=-1,o=!1;if(e.indexOf("<")!==0){var h=e.indexOf("<");a.push({type:"text",content:h===-1?e:e.substring(0,h)})}return e.replace(ee,function(c,x){if(o){if(c!=="</"+t.name+">")return;o=!1}var g,v=c.charAt(1)!=="/",C=c.startsWith("<!--"),$=x+c.length,u=e.charAt($);if(C){var T=z(c);return s<0?(a.push(T),a):((g=y[s]).children.push(T),a)}if(v&&(s++,(t=z(c)).type==="tag"&&n.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!u||u==="<"||t.children.push({type:"text",content:e.slice($,e.indexOf("<",$))}),s===0&&a.push(t),(g=y[s-1])&&g.children.push(t),y[s]=t),(!v||t.voidElement)&&(s>-1&&(t.voidElement||t.name===c.slice(2,-1))&&(s--,t=s===-1?a:y[s]),!o&&u!=="<"&&u)){g=s===-1?a:y[s].children;var i=e.indexOf("<",$),p=e.slice($,i===-1?void 0:i);te.test(p)&&(p=" "),(i>-1&&s+g.length>=0||p!==" ")&&g.push({type:"text",content:p})}}),a},stringify:function(e){return e.reduce(function(n,t){return n+M("",t)},"")}};const W=(e,n)=>{var a;if(!e)return!1;const t=((a=e.props)==null?void 0:a.children)??e.children;return n?t.length>0:!!t},P=e=>{var t,a;if(!e)return[];const n=((t=e.props)==null?void 0:t.children)??e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?O(n):n},re=e=>Array.isArray(e)&&e.every(b.isValidElement),O=e=>Array.isArray(e)?e:[e],ae=(e,n)=>{const t={...n};return t.props=Object.assign(e.props,n.props),t},G=(e,n)=>{if(!e)return"";let t="";const a=O(e),y=n!=null&&n.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((s,o)=>{if(F(s))t+=`${s}`;else if(b.isValidElement(s)){const{props:h,type:c}=s,x=Object.keys(h).length,g=y.indexOf(c)>-1,v=h.children;if(!v&&g&&!x)t+=`<${c}/>`;else if(!v&&(!g||x)||h.i18nIsDynamicList)t+=`<${o}></${o}>`;else if(g&&x===1&&F(v))t+=`<${c}>${v}</${c}>`;else{const C=G(v,n);t+=`<${o}>${C}</${o}>`}}else if(s===null)L("Trans: the passed in value is invalid - seems you passed in a null child.");else if(I(s)){const{format:h,...c}=s,x=Object.keys(c);if(x.length===1){const g=h?`${x[0]}, ${h}`:x[0];t+=`{{${g}}}`}else L("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else L("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t},ie=(e,n,t,a,y,s)=>{if(n==="")return[];const o=a.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(o.map(i=>`<${i}`).join("|")).test(n);if(!e&&!h&&!s)return[n];const c={},x=i=>{O(i).forEach(l=>{F(l)||(W(l)?x(P(l)):I(l)&&!b.isValidElement(l)&&Object.assign(c,l))})};x(e);const g=se.parse(`<0>${n}</0>`),v={...c,...y},C=(i,p,l)=>{var f;const E=P(i),j=u(E,p.children,l);return re(E)&&j.length===0||(f=i.props)!=null&&f.i18nIsDynamicList?E:j},$=(i,p,l,E,j)=>{i.dummy?(i.children=p,l.push(b.cloneElement(i,{key:E},j?void 0:p))):l.push(...b.Children.map([i],f=>{const r={...f.props};return delete r.i18nIsDynamicList,b.createElement(f.type,{...r,key:E,ref:f.ref},j?null:p)}))},u=(i,p,l)=>{const E=O(i);return O(p).reduce((f,r,A)=>{var V,D;const N=((D=(V=r.children)==null?void 0:V[0])==null?void 0:D.content)&&t.services.interpolator.interpolate(r.children[0].content,v,t.language);if(r.type==="tag"){let k=E[parseInt(r.name,10)];l.length===1&&!k&&(k=l[0][r.name]),k||(k={});const d=Object.keys(r.attrs).length!==0?ae({props:r.attrs},k):k,w=b.isValidElement(d),H=w&&W(r,!0)&&!r.voidElement,S=h&&I(d)&&d.dummy&&!w,B=I(e)&&Object.hasOwnProperty.call(e,r.name);if(F(d)){const m=t.services.interpolator.interpolate(d,v,t.language);f.push(m)}else if(W(d)||H){const m=C(d,r,l);$(d,m,f,A)}else if(S){const m=u(E,r.children,l);$(d,m,f,A)}else if(Number.isNaN(parseFloat(r.name)))if(B){const m=C(d,r,l);$(d,m,f,A,r.voidElement)}else if(a.transSupportBasicHtmlNodes&&o.indexOf(r.name)>-1)if(r.voidElement)f.push(b.createElement(r.name,{key:`${r.name}-${A}`}));else{const m=u(E,r.children,l);f.push(b.createElement(r.name,{key:`${r.name}-${A}`},m))}else if(r.voidElement)f.push(`<${r.name} />`);else{const m=u(E,r.children,l);f.push(`<${r.name}>${m}</${r.name}>`)}else if(I(d)&&!w){const m=r.children[0]?N:null;m&&f.push(m)}else $(d,N,f,A,r.children.length!==1||!N)}else if(r.type==="text"){const k=a.transWrapTextNodes,d=s?a.unescape(t.services.interpolator.interpolate(r.content,v,t.language)):t.services.interpolator.interpolate(r.content,v,t.language);k?f.push(b.createElement(k,{key:`${r.name}-${A}`},d)):f.push(d)}return f},[])},T=u([{dummy:!0,children:e||[]}],g,O(e||[]));return P(T[0])};function oe({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s={},values:o,defaults:h,components:c,ns:x,i18n:g,t:v,shouldUnescape:C,...$}){var k,d,w,H,S,B;const u=g||J();if(!u)return Z("You will need to pass in an i18next instance by using i18nextReactModule"),e;const T=v||u.t.bind(u)||(m=>m),i={...q(),...(k=u.options)==null?void 0:k.react};let p=x||T.ns||((d=u.options)==null?void 0:d.defaultNS);p=F(p)?[p]:p||["translation"];const l=G(e,i),E=h||l||i.transEmptyNodeValue||a,{hashTransKey:j}=i,f=a||(j?j(l||E):l||E);(H=(w=u.options)==null?void 0:w.interpolation)!=null&&H.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...u.options.interpolation.defaultVariables}:{...u.options.interpolation.defaultVariables});const r=o||n!==void 0&&!((B=(S=u.options)==null?void 0:S.interpolation)!=null&&B.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},A={...s,context:y||s.context,count:n,...o,...r,defaultValue:E,ns:p},N=f?T(f,A):E;c&&Object.keys(c).forEach(m=>{const K=c[m];if(typeof K.type=="function"||!K.props||!K.props.children||N.indexOf(`${m}/>`)<0&&N.indexOf(`${m} />`)<0)return;function X(){return b.createElement(b.Fragment,null,K)}c[m]=b.createElement(X)});const V=ie(c||e,N,u,i,A,C),D=t??i.defaultTransParent;return D?b.createElement(D,$,V):V}function ce({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s={},values:o,defaults:h,components:c,ns:x,i18n:g,t:v,shouldUnescape:C,...$}){var l;const{i18n:u,defaultNS:T}=b.useContext(Q)||{},i=g||u||J(),p=v||(i==null?void 0:i.t.bind(i));return oe({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s,values:o,defaults:h,components:c,ns:x||(p==null?void 0:p.ns)||T||((l=i==null?void 0:i.options)==null?void 0:l.defaultNS),i18n:i,t:v,shouldUnescape:C,...$})}export{ce as T};
