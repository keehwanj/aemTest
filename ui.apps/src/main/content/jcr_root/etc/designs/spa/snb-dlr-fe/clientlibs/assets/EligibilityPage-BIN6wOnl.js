import{j as e,c as T,b as O,u as R,r as l,A as F}from"./index-BiH_W8qU.js";import{f as A,c as $,n as I}from"./helpers-D7gjf96R.js";import{E as w}from"./Error-CpiIyBEU.js";import{A as k}from"./Alert-dVt_nSqK.js";import{u as M}from"./useProgressNavStatus-Bp7VSg7A.js";import{B as P}from"./ButtonGroup-DkW5mFIv.js";import{T as v}from"./Trans-aRS0WAyQ.js";const x=({label:i,error:s="",selectedOption:n,handleRadioChange:d,buttonId:o,disabled:f})=>{const h=A(i)+"-error-id",b=s?{"aria-labelledby":h}:{};return e.jsxs("div",{className:"pair",children:[e.jsx("input",{type:"radio",name:`form-radio-${i.toLowerCase()}-${o}`,id:`radio-${i.toLowerCase()}-${o}`,checked:f?!1:n===o,...b,value:o,onChange:()=>d(o),"aria-invalid":!!s,disabled:f}),e.jsx("label",{htmlFor:`radio-${i.toLowerCase()}-${o}`,children:i}),s&&e.jsx(w,{id:h,error:s})]},i)},q=({children:i,label:s,error:n,required:d=!1})=>e.jsx("div",{className:T("gnb-form-input",n?"error":""),children:e.jsxs("fieldset",{className:"gnb-radio-buttons","aria-required":d,children:[e.jsxs("legend",{className:"left",children:[s," ",e.jsx("span",{className:"required",children:"*"}),e.jsx("span",{className:"sr-only",children:"required"})]}),n&&e.jsx(w,{error:n}),i]})}),J=()=>{const i=O(),{t:s}=R(["eligibility","common"]),{progressNavList:n}=M(),{state:d}=l.useContext(F),{aboutTheService:o,eligibility:f,startState:h,resetState:b,sessionExpired:j}=d,{questionOneAnswer:a,questionTwoAnswer:r,handleRadioChangeQuestionOne:y,handleRadioChangeQuestionTwo:C}=f,[p,g]=l.useState(!1),[c,u]=l.useState([!1,!1]),[B,m]=l.useState(!1),[t,E]=l.useState(!1);l.useEffect(()=>{(j||!o.isChecked)&&i(n[0].link)},[]),l.useEffect(()=>{(a||r)&&m(!1),a&&r&&(u([!1,!1]),g(!1))},[a,r]),l.useEffect(()=>{(c[0]||c[1]||p)&&m(!0)},[c,p]),l.useEffect(()=>{j&&(E(!0),u([!1,!1]),g(!1))},[j]);const L=()=>{!a||!r?(u(!a&&r?[!0,!1]:a&&!r?[!1,!0]:[!0,!0]),m(!0)):a==="1"||r==="3"?(g(!0),m(!0)):(m(!1),g(!1),i(n[2].link))},N=()=>{i(n[0].link)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"margin-bottom-xs margin-top-lg",children:s("heading",{ns:"eligibility"})}),e.jsxs("p",{children:[e.jsx("span",{className:"required",children:"*"})," ",s("disclaimer",{ns:"common"})]}),t&&e.jsx("div",{className:"feedback-fade-in",children:e.jsx(k,{isOpen:t,variant:"inPage",type:"critical",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:e.jsx(v,{i18nKey:"timeoutMsg",ns:"common",components:{1:e.jsx("a",{href:$(s("progressNav.homeUrl",{ns:"common"})),children:s("header")})}})})})})}),e.jsx("div",{className:"padding-top-md padding-bottom-md row"+(t?" opacity-dk disabled-form":""),children:e.jsxs("form",{onSubmit:S=>S.preventDefault(),children:[e.jsxs(q,{label:s("questionOne.question",{ns:"eligibility"}),required:!0,error:c[0]?s("errorMsg.emptyField",{ns:"eligibility"}):"",children:[e.jsx(x,{label:s("questionOne.answer.yes",{ns:"eligibility"}),handleRadioChange:y,selectedOption:a,buttonId:"1",disabled:t}),e.jsx(x,{label:s("questionOne.answer.no",{ns:"eligibility"}),handleRadioChange:y,selectedOption:a,buttonId:"2",disabled:t})]}),e.jsxs(q,{label:s("questionTwo.question",{ns:"eligibility"}),required:!0,error:c[1]?s("errorMsg.emptyField",{ns:"eligibility"}):"",children:[e.jsx(x,{label:s("questionTwo.answer.yes",{ns:"eligibility"}),handleRadioChange:C,selectedOption:r,buttonId:"3",disabled:t}),e.jsx(x,{label:s("questionTwo.answer.no",{ns:"eligibility"}),handleRadioChange:C,selectedOption:r,buttonId:"4",disabled:t})]}),p&&e.jsx(k,{type:"critical",isOpen:p,description:e.jsx(e.Fragment,{children:e.jsxs("p",{children:[e.jsx("strong",{children:s("errorMsg.lineOne",{ns:"eligibility"})}),e.jsx("br",{}),e.jsx("strong",{children:e.jsx(v,{i18nKey:"errorMsg.lineTwo",ns:"eligibility",components:{1:e.jsx("a",{href:"tel:18888322762",children:"1-888-832-2762"})}})})]})}),variant:"inline"}),e.jsx(P,{hasSecondaryBtn:!0,hasLinkBtn:!0,primaryButtonLabel:s("buttonText.continue",{ns:"common"}),secondaryButtonLabel:s("buttonText.back",{ns:"common"}),linkButtonLabel:s("buttonText.cancel",{ns:"common"}),disabledPrimaryBtn:B||t,disableSecondaryBtn:t,disableLinkBtn:t,handlePrimaryClick:L,handleSecondaryClick:N,handleLinkButtonClick:()=>(sessionStorage.removeItem("appState"),b(),h(),i(n[0].link),I(s("driversLicenceInfoURL",{ns:"common"})))})]})})]})};export{J as default};
