import{j as e,c as T,L as R,u,P as f,a as k,r as h,A,B as D,O as E}from"./index-BiH_W8qU.js";import{c as S,r as N,a as I}from"./helpers-D7gjf96R.js";import{u as y}from"./useRenewBackEndSession-D0AOcuzL.js";import"./index-G0GgqibQ.js";const U=({link:s,status:n,label:t,isDisabled:a})=>e.jsx("li",{className:T("dlr-progress-nav-list-item",n===1?"current":"",n===2||n===3?"complete":""),"data-status":n,children:e.jsx("div",{children:n===0||n===1||n===3||a||!s?e.jsx(e.Fragment,{children:e.jsx("p",{children:t})}):e.jsx(e.Fragment,{children:e.jsx(R,{to:s,children:t})})})},String(t)),O=({heading:s,list:n,location:t,isDisabled:a})=>e.jsxs("nav",{className:"gnb-progress-steps-nav",children:[e.jsx("h2",{children:s}),e.jsx("ul",{className:"gnb-progress-steps-circle",children:n?n.map((o,c)=>{const{id:i,link:l,label:d}=o;return e.jsx(U,{link:l,label:d,status:n[t].status[c],isDisabled:a},String(i))}):null})]}),w=(s,n)=>{const{t}=u(["common"],{lng:s});return t(n===f.DLR.toString()?"progressNav.navList":"tempDLPathList.navList",{returnObjects:!0})},C=({pageSiteLayout:s})=>{const{t:n,i18n:t}=u(["common"]),a=[{pageOne:`https://www2.gnb.ca/content/gnb/${t.language}.html`},{pageTwo:`https://www2.snb.ca/content/snb/${t.language}.html`},{pageThree:""}];return e.jsx("section",{className:"gnb-hero-banner-green",children:e.jsx("div",{className:"padding-left-sm padding-left-lg-xl padding-right-sm padding-right-lg-xl padding-top-sm",children:e.jsxs("nav",{"aria-label":"breadcrumb",children:[e.jsx("ol",{className:"gnb-breadcrumbs-light",children:a.map(o=>{const[c,i]=Object.entries(o)[0];return e.jsx("li",{className:i?"":"active",children:i?e.jsx("a",{href:i,children:s===f.DLR?n(`breadcrumb.${c}`):n(`breadcrumbTempDL.${c}`)}):e.jsx("span",{children:s===f.DLR?n(`breadcrumb.${c}`):n(`breadcrumbTempDL.${c}`)})},c)})}),e.jsx("h1",{className:"margin-top-xl margin-bottom-none",children:s===f.DLR?n("header"):n("tempDLHeader")})]})})})},P=({pageSiteLayout:s})=>{const n=k(),{t,i18n:a}=u(["common"]),[o,c]=h.useState(""),i="/etc/designs/spa/snb-dlr-fe/clientlibs/",l=w(a.language,s),d=w(t("switchLanguage.id"),s);return h.useEffect(()=>{const g=l.findIndex(r=>decodeURIComponent(n.pathname).indexOf(r.id)>-1),p=g>-1?d[g].link:d[0].link,x=S(p+(n==null?void 0:n.search),t("switchLanguage.id"));c(x)},[n.pathname,a.language,s]),e.jsxs("header",{className:"gnb-header",children:[e.jsx("div",{className:"logo",children:e.jsx("a",{href:"https://www.gnb.ca",children:e.jsx("img",{src:i+"images/new-brunswick-logo.svg",alt:t("mainNavigation.altText"),id:"logo"})})}),e.jsx("div",{className:"gnb-main-nav",children:e.jsx("nav",{children:e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:o,children:t("switchLanguage.label")})})})})})]})},b="https://www2.dev.snb.ca",j="/etc/designs/spa/snb-dlr-fe/clientlibs/",q=()=>{const{t:s,i18n:n}=u(["common"]);return{renderMetadata:()=>{var l,d,g,p,x,r,m,v,L;const a=b+j+"images/gnb-180x180.png",o=b+j+"images/gnb-32x32.png",c=b+j+"images/gnb-16x16.png",i=b+j+"images/gnb-32x32.ico";document.documentElement.lang=n.language==="en"?"en":"fr",document.title=s("pageTitle"),(l=document.querySelector("meta[property='og:title']"))==null||l.setAttribute("content",s("pageTitle")),(d=document.querySelector("meta[name='description']"))==null||d.setAttribute("content",s("pageDescription")),(g=document.querySelector("meta[property='og:description']"))==null||g.setAttribute("content",s("pageDescription")),(p=document.querySelector("meta[property='og:image:alt']"))==null||p.setAttribute("content",s("mainNavigation.governmentOfNewBrunswick")),(x=document.querySelector("meta[property='og:locale']"))==null||x.setAttribute("content",n.language==="en"?"en_CA":"fr_CA"),(r=document.querySelector("#apple-touch-icon"))==null||r.setAttribute("href",a),(m=document.querySelector("#favicon-32-png"))==null||m.setAttribute("href",o),(v=document.querySelector("#favicon-16-png"))==null||v.setAttribute("href",c),(L=document.querySelector("#favicon-32-io"))==null||L.setAttribute("href",i)}}},B=({variant:s})=>{const{t:n}=u(["common"]);return e.jsx("footer",{className:`gnb-footer gnb-footer-${s}`,children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("p",{className:"copyright",children:n("footer.copyright")})}),e.jsx("div",{className:"col-md-6",children:e.jsx("nav",{className:"nav-legal",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:n("footer.privacyUrl"),target:"_blank",rel:"noreferrer",children:n("footer.privacy")})}),e.jsx("li",{children:e.jsx("a",{href:n("footer.disclaimerUrl"),target:"_blank",rel:"noreferrer",children:n("footer.disclaimer")})})]})})})]})})})},H=({pageSiteLayout:s})=>{const{i18n:n}=u(),{t}=u(["common"]),{renderMetadata:a}=q(),[o,c]=h.useState(Number),i=k(),l=w(n.language,s),{state:d}=h.useContext(A),{resetState:g,sessionExpired:p}=d,x=y();return h.useEffect(()=>{a();const r=l.findIndex(m=>decodeURIComponent(i.pathname).indexOf(m.id)>-1);c(r>-1?r:0)},[n.language,s,i.pathname]),h.useEffect(()=>{setInterval(()=>{const r=sessionStorage.getItem("startTime");if(!r)return N();I(r)&&g()},1e3),window.onbeforeunload=()=>{for(let r=1;r<=D;r++){const m=setInterval(()=>{clearInterval(m)},1e3*r)}}},[]),h.useEffect(()=>{const r=sessionStorage.getItem("startTime");if(!r)return N();I(r)?g():(N(),(async()=>await x())())}),e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"skip-link",children:e.jsx("a",{href:"#SkipDiv",className:"gnb-btn",children:t("skipToMain")})}),e.jsx(P,{pageSiteLayout:s}),e.jsx(C,{pageSiteLayout:s}),e.jsx("main",{className:"page-content",children:e.jsx("section",{className:"padding-xs padding-lg-xl dlr-page-container",children:e.jsxs("div",{className:"row dlr-page-wrapper",children:[s===f.DLR&&e.jsx("div",{className:"col-lg-4 padding-left-lg-none padding-right-lg-md",children:e.jsx(O,{heading:t("progressNav.heading"),list:l,location:o,isDisabled:p})}),e.jsx("div",{id:"SkipDiv",className:T(s===f.DLR?"col-lg-8":"","dlr-subpage-container padding-left-lg-xl padding-right-lg-xl"),children:e.jsx(E,{})})]})})}),e.jsx(B,{variant:"dark"})]})};export{H as default};
