import{q as pe,r as he,s as Se,o as Re,j as k,t as Pe,w as je}from"./index-BiH_W8qU.js";import{B as xe}from"./ButtonGroup-DkW5mFIv.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ye=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],G=ye.join(","),ge=typeof Element>"u",P=ge?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,V=!ge&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},z=function n(e,a){var t;a===void 0&&(a=!0);var i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"inert"),c=i===""||i==="true",r=c||a&&e&&n(e.parentNode);return r},Ie=function(e){var a,t=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"contenteditable");return t===""||t==="true"},me=function(e,a,t){if(z(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(G));return a&&P.call(e,G)&&i.unshift(e),i=i.filter(t),i},Te=function n(e,a,t){for(var i=[],c=Array.from(e);c.length;){var r=c.shift();if(!z(r,!1))if(r.tagName==="SLOT"){var d=r.assignedElements(),f=d.length?d:r.children,v=n(f,!0,t);t.flatten?i.push.apply(i,v):i.push({scopeParent:r,candidates:v})}else{var T=P.call(r,G);T&&t.filter(r)&&(a||!e.includes(r))&&i.push(r);var h=r.shadowRoot||typeof t.getShadowRoot=="function"&&t.getShadowRoot(r),F=!z(h,!1)&&(!t.shadowRootFilter||t.shadowRootFilter(r));if(h&&F){var E=n(h===!0?r.children:h.children,!0,t);t.flatten?i.push.apply(i,E):i.push({scopeParent:r,candidates:E})}else c.unshift.apply(c,r.children)}}return i},we=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},C=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ie(e))&&!we(e)?0:e.tabIndex},Ae=function(e,a){var t=C(e);return t<0&&a&&!we(e)?0:t},Le=function(e,a){return e.tabIndex===a.tabIndex?e.documentOrder-a.documentOrder:e.tabIndex-a.tabIndex},Oe=function(e){return e.tagName==="INPUT"},Ke=function(e){return Oe(e)&&e.type==="hidden"},_e=function(e){var a=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(t){return t.tagName==="SUMMARY"});return a},Me=function(e,a){for(var t=0;t<e.length;t++)if(e[t].checked&&e[t].form===a)return e[t]},Ue=function(e){if(!e.name)return!0;var a=e.form||V(e),t=function(d){return a.querySelectorAll('input[type="radio"][name="'+d+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=t(window.CSS.escape(e.name));else try{i=t(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var c=Me(i,e.form);return!c||c===e},$e=function(e){return Oe(e)&&e.type==="radio"},qe=function(e){return $e(e)&&!Ue(e)},Ge=function(e){var a,t=e&&V(e),i=(a=t)===null||a===void 0?void 0:a.host,c=!1;if(t&&t!==e){var r,d,f;for(c=!!((r=i)!==null&&r!==void 0&&(d=r.ownerDocument)!==null&&d!==void 0&&d.contains(i)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!c&&i;){var v,T,h;t=V(i),i=(v=t)===null||v===void 0?void 0:v.host,c=!!((T=i)!==null&&T!==void 0&&(h=T.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return c},se=function(e){var a=e.getBoundingClientRect(),t=a.width,i=a.height;return t===0&&i===0},Ve=function(e,a){var t=a.displayCheck,i=a.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var c=P.call(e,"details>summary:first-of-type"),r=c?e.parentElement:e;if(P.call(r,"details:not([open]) *"))return!0;if(!t||t==="full"||t==="legacy-full"){if(typeof i=="function"){for(var d=e;e;){var f=e.parentElement,v=V(e);if(f&&!f.shadowRoot&&i(f)===!0)return se(e);e.assignedSlot?e=e.assignedSlot:!f&&v!==e.ownerDocument?e=v.host:e=f}e=d}if(Ge(e))return!e.getClientRects().length;if(t!=="legacy-full")return!0}else if(t==="non-zero-area")return se(e);return!1},ze=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var a=e.parentElement;a;){if(a.tagName==="FIELDSET"&&a.disabled){for(var t=0;t<a.children.length;t++){var i=a.children.item(t);if(i.tagName==="LEGEND")return P.call(a,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}a=a.parentElement}return!1},W=function(e,a){return!(a.disabled||z(a)||Ke(a)||Ve(a,e)||_e(a)||ze(a))},J=function(e,a){return!(qe(a)||C(a)<0||!W(e,a))},We=function(e){var a=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(a)||a>=0)},Ye=function n(e){var a=[],t=[];return e.forEach(function(i,c){var r=!!i.scopeParent,d=r?i.scopeParent:i,f=Ae(d,r),v=r?n(i.candidates):d;f===0?r?a.push.apply(a,v):a.push(d):t.push({documentOrder:c,tabIndex:f,item:i,isScope:r,content:v})}),t.sort(Le).reduce(function(i,c){return c.isScope?i.push.apply(i,c.content):i.push(c.content),i},[]).concat(a)},Fe=function(e,a){a=a||{};var t;return a.getShadowRoot?t=Te([e],a.includeContainer,{filter:J.bind(null,a),flatten:!1,getShadowRoot:a.getShadowRoot,shadowRootFilter:We}):t=me(e,a.includeContainer,J.bind(null,a)),Ye(t)},Ee=function(e,a){a=a||{};var t;return a.getShadowRoot?t=Te([e],a.includeContainer,{filter:W.bind(null,a),flatten:!0,getShadowRoot:a.getShadowRoot}):t=me(e,a.includeContainer,W.bind(null,a)),t},R=function(e,a){if(a=a||{},!e)throw new Error("No node provided");return P.call(e,G)===!1?!1:J(a,e)},Be=ye.concat("iframe").join(","),q=function(e,a){if(a=a||{},!e)throw new Error("No node provided");return P.call(e,Be)===!1?!1:W(a,e)};const Xe=Object.freeze(Object.defineProperty({__proto__:null,focusable:Ee,getTabIndex:C,isFocusable:q,isTabbable:R,tabbable:Fe},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ze(n,e,a){return(e=Qe(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function le(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,t)}return a}function fe(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?le(Object(a),!0).forEach(function(t){Ze(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function Je(n,e){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qe(n){var e=Je(n,"string");return typeof e=="symbol"?e:e+""}var de={activateTrap:function(e,a){if(e.length>0){var t=e[e.length-1];t!==a&&t.pause()}var i=e.indexOf(a);i===-1||e.splice(i,1),e.push(a)},deactivateTrap:function(e,a){var t=e.indexOf(a);t!==-1&&e.splice(t,1),e.length>0&&e[e.length-1].unpause()}},He=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},et=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},_=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},tt=function(e){return _(e)&&!e.shiftKey},at=function(e){return _(e)&&e.shiftKey},ve=function(e){return setTimeout(e,0)},be=function(e,a){var t=-1;return e.every(function(i,c){return a(i)?(t=c,!1):!0}),t},L=function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),i=1;i<a;i++)t[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,t):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},nt=[],rt=function(e,a){var t=(a==null?void 0:a.document)||document,i=(a==null?void 0:a.trapStack)||nt,c=fe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:tt,isKeyBackward:at},a),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,f=function(o,u,s){return o&&o[u]!==void 0?o[u]:c[s||u]},v=function(o,u){var s=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return r.containerGroups.findIndex(function(b){var p=b.container,g=b.tabbableNodes;return p.contains(o)||(s==null?void 0:s.includes(p))||g.find(function(m){return m===o})})},T=function(o){var u=c[o];if(typeof u=="function"){for(var s=arguments.length,b=new Array(s>1?s-1:0),p=1;p<s;p++)b[p-1]=arguments[p];u=u.apply(void 0,b)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=u;if(typeof u=="string"&&(g=t.querySelector(u),!g))throw new Error("`".concat(o,"` as selector refers to no known node"));return g},h=function(){var o=T("initialFocus");if(o===!1)return!1;if(o===void 0||!q(o,c.tabbableOptions))if(v(t.activeElement)>=0)o=t.activeElement;else{var u=r.tabbableGroups[0],s=u&&u.firstTabbableNode;o=s||T("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},F=function(){if(r.containerGroups=r.containers.map(function(o){var u=Fe(o,c.tabbableOptions),s=Ee(o,c.tabbableOptions),b=u.length>0?u[0]:void 0,p=u.length>0?u[u.length-1]:void 0,g=s.find(function(w){return R(w)}),m=s.slice().reverse().find(function(w){return R(w)}),O=!!u.find(function(w){return C(w)>0});return{container:o,tabbableNodes:u,focusableNodes:s,posTabIndexesFound:O,firstTabbableNode:b,lastTabbableNode:p,firstDomTabbableNode:g,lastDomTabbableNode:m,nextTabbableNode:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=u.indexOf(S);return N<0?I?s.slice(s.indexOf(S)+1).find(function(A){return R(A)}):s.slice(0,s.indexOf(S)).reverse().find(function(A){return R(A)}):u[N+(I?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!T("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(o){return o.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function(o){var u=o.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?E(u.shadowRoot):u},D=function(o){if(o!==!1&&o!==E(document)){if(!o||!o.focus){D(h());return}o.focus({preventScroll:!!c.preventScroll}),r.mostRecentlyFocusedNode=o,He(o)&&o.select()}},ee=function(o){var u=T("setReturnFocus",o);return u||(u===!1?!1:o)},te=function(o){var u=o.target,s=o.event,b=o.isBackward,p=b===void 0?!1:b;u=u||U(s),F();var g=null;if(r.tabbableGroups.length>0){var m=v(u,s),O=m>=0?r.containerGroups[m]:void 0;if(m<0)p?g=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:g=r.tabbableGroups[0].firstTabbableNode;else if(p){var w=be(r.tabbableGroups,function(X){var Z=X.firstTabbableNode;return u===Z});if(w<0&&(O.container===u||q(u,c.tabbableOptions)&&!R(u,c.tabbableOptions)&&!O.nextTabbableNode(u,!1))&&(w=m),w>=0){var S=w===0?r.tabbableGroups.length-1:w-1,I=r.tabbableGroups[S];g=C(u)>=0?I.lastTabbableNode:I.lastDomTabbableNode}else _(s)||(g=O.nextTabbableNode(u,!1))}else{var N=be(r.tabbableGroups,function(X){var Z=X.lastTabbableNode;return u===Z});if(N<0&&(O.container===u||q(u,c.tabbableOptions)&&!R(u,c.tabbableOptions)&&!O.nextTabbableNode(u))&&(N=m),N>=0){var A=N===r.tabbableGroups.length-1?0:N+1,ce=r.tabbableGroups[A];g=C(u)>=0?ce.firstTabbableNode:ce.firstDomTabbableNode}else _(s)||(g=O.nextTabbableNode(u))}}else g=T("fallbackFocus");return g},M=function(o){var u=U(o);if(!(v(u,o)>=0)){if(L(c.clickOutsideDeactivates,o)){d.deactivate({returnFocus:c.returnFocusOnDeactivate});return}L(c.allowOutsideClick,o)||o.preventDefault()}},ae=function(o){var u=U(o),s=v(u,o)>=0;if(s||u instanceof Document)s&&(r.mostRecentlyFocusedNode=u);else{o.stopImmediatePropagation();var b,p=!0;if(r.mostRecentlyFocusedNode)if(C(r.mostRecentlyFocusedNode)>0){var g=v(r.mostRecentlyFocusedNode),m=r.containerGroups[g].tabbableNodes;if(m.length>0){var O=m.findIndex(function(w){return w===r.mostRecentlyFocusedNode});O>=0&&(c.isKeyForward(r.recentNavEvent)?O+1<m.length&&(b=m[O+1],p=!1):O-1>=0&&(b=m[O-1],p=!1))}}else r.containerGroups.some(function(w){return w.tabbableNodes.some(function(S){return C(S)>0})})||(p=!1);else p=!1;p&&(b=te({target:r.mostRecentlyFocusedNode,isBackward:c.isKeyBackward(r.recentNavEvent)})),D(b||r.mostRecentlyFocusedNode||h())}r.recentNavEvent=void 0},Ne=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=o;var s=te({event:o,isBackward:u});s&&(_(o)&&o.preventDefault(),D(s))},ne=function(o){(c.isKeyForward(o)||c.isKeyBackward(o))&&Ne(o,c.isKeyBackward(o))},re=function(o){et(o)&&L(c.escapeDeactivates,o)!==!1&&(o.preventDefault(),d.deactivate())},ie=function(o){var u=U(o);v(u,o)>=0||L(c.clickOutsideDeactivates,o)||L(c.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},oe=function(){if(r.active)return de.activateTrap(i,d),r.delayInitialFocusTimer=c.delayInitialFocus?ve(function(){D(h())}):D(h()),t.addEventListener("focusin",ae,!0),t.addEventListener("mousedown",M,{capture:!0,passive:!1}),t.addEventListener("touchstart",M,{capture:!0,passive:!1}),t.addEventListener("click",ie,{capture:!0,passive:!1}),t.addEventListener("keydown",ne,{capture:!0,passive:!1}),t.addEventListener("keydown",re),d},ue=function(){if(r.active)return t.removeEventListener("focusin",ae,!0),t.removeEventListener("mousedown",M,!0),t.removeEventListener("touchstart",M,!0),t.removeEventListener("click",ie,!0),t.removeEventListener("keydown",ne,!0),t.removeEventListener("keydown",re),d},Ce=function(o){var u=o.some(function(s){var b=Array.from(s.removedNodes);return b.some(function(p){return p===r.mostRecentlyFocusedNode})});u&&D(h())},B=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ce):void 0,x=function(){B&&(B.disconnect(),r.active&&!r.paused&&r.containers.map(function(o){B.observe(o,{subtree:!0,childList:!0})}))};return d={get active(){return r.active},get paused(){return r.paused},activate:function(o){if(r.active)return this;var u=f(o,"onActivate"),s=f(o,"onPostActivate"),b=f(o,"checkCanFocusTrap");b||F(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=t.activeElement,u==null||u();var p=function(){b&&F(),oe(),x(),s==null||s()};return b?(b(r.containers.concat()).then(p,p),this):(p(),this)},deactivate:function(o){if(!r.active)return this;var u=fe({onDeactivate:c.onDeactivate,onPostDeactivate:c.onPostDeactivate,checkCanReturnFocus:c.checkCanReturnFocus},o);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,ue(),r.active=!1,r.paused=!1,x(),de.deactivateTrap(i,d);var s=f(u,"onDeactivate"),b=f(u,"onPostDeactivate"),p=f(u,"checkCanReturnFocus"),g=f(u,"returnFocus","returnFocusOnDeactivate");s==null||s();var m=function(){ve(function(){g&&D(ee(r.nodeFocusedBeforeActivation)),b==null||b()})};return g&&p?(p(ee(r.nodeFocusedBeforeActivation)).then(m,m),this):(m(),this)},pause:function(o){if(r.paused||!r.active)return this;var u=f(o,"onPause"),s=f(o,"onPostPause");return r.paused=!0,u==null||u(),ue(),x(),s==null||s(),this},unpause:function(o){if(!r.paused||!r.active)return this;var u=f(o,"onUnpause"),s=f(o,"onPostUnpause");return r.paused=!1,u==null||u(),F(),oe(),x(),s==null||s(),this},updateContainerElements:function(o){var u=[].concat(o).filter(Boolean);return r.containers=u.map(function(s){return typeof s=="string"?t.querySelector(s):s}),r.active&&F(),x(),this}},d.updateContainerElements(e),d};const it=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:rt},Symbol.toStringTag,{value:"Module"})),ot=pe(it),ut=pe(Xe);function j(n){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(n)}function ct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function st(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,ke(t.key),t)}}function lt(n,e,a){return e&&st(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ft(n,e,a){return e=Y(e),dt(n,De()?Reflect.construct(e,a||[],Y(n).constructor):e.apply(n,a))}function dt(n,e){if(e&&(j(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(n)}function vt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function De(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(De=function(){return!!n})()}function Y(n){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(n)}function bt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Q(n,e)}function Q(n,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,t){return a.__proto__=t,a},Q(n,e)}function pt(n,e,a){return(e=ke(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function ke(n){var e=ht(n,"string");return j(e)=="symbol"?e:e+""}function ht(n,e){if(j(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e);if(j(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var $=he,l=Se,yt=ot,gt=yt.createFocusTrap,mt=ut,Tt=mt.isFocusable,H=function(n){function e(a){var t;ct(this,e),t=ft(this,e,[a]),pt(t,"getNodeForOption",function(r){var d,f=(d=this.internalOptions[r])!==null&&d!==void 0?d:this.originalOptions[r];if(typeof f=="function"){for(var v=arguments.length,T=new Array(v>1?v-1:0),h=1;h<v;h++)T[h-1]=arguments[h];f=f.apply(void 0,T)}if(f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(r,"` was specified but was not a node, or did not return a node"))}var F=f;if(typeof f=="string"){var E;if(F=(E=this.getDocument())===null||E===void 0?void 0:E.querySelector(f),!F)throw new Error("`".concat(r,"` as selector refers to no known node"))}return F}),t.handleDeactivate=t.handleDeactivate.bind(t),t.handlePostDeactivate=t.handlePostDeactivate.bind(t),t.handleClickOutsideDeactivates=t.handleClickOutsideDeactivates.bind(t),t.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:t.handleDeactivate,onPostDeactivate:t.handlePostDeactivate,clickOutsideDeactivates:t.handleClickOutsideDeactivates},t.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var i=a.focusTrapOptions;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){if(c==="returnFocusOnDeactivate"||c==="onDeactivate"||c==="onPostDeactivate"||c==="checkCanReturnFocus"||c==="clickOutsideDeactivates"){t.originalOptions[c]=i[c];continue}t.internalOptions[c]=i[c]}return t.outsideClick=null,t.focusTrapElements=a.containerElements||[],t.updatePreviousElement(),t}return bt(e,n),lt(e,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var t=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return t||(t===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var t=this.getDocument();t&&(this.previouslyFocusedElement=t.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(t){var i=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,t):this.originalOptions.clickOutsideDeactivates;return i&&(this.outsideClick={target:t.target,allowDeactivation:i}),i}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var t=this,i=function(){var r=t.getReturnFocusNode(),d=!!(t.originalOptions.returnFocusOnDeactivate&&r!==null&&r!==void 0&&r.focus&&(!t.outsideClick||t.outsideClick.allowDeactivation&&!Tt(t.outsideClick.target,t.internalOptions.tabbableOptions))),f=t.internalOptions.preventScroll,v=f===void 0?!1:f;d&&r.focus({preventScroll:v}),t.originalOptions.onPostDeactivate&&t.originalOptions.onPostDeactivate.call(null),t.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(i,i):i()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var t=this.focusTrapElements.some(Boolean);t&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(t){if(this.focusTrap){t.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var i=!t.active&&this.props.active,c=t.active&&!this.props.active,r=!t.paused&&this.props.paused,d=t.paused&&!this.props.paused;if(i&&(this.updatePreviousElement(),this.focusTrap.activate()),c){this.deactivateTrap();return}r&&this.focusTrap.pause(),d&&this.focusTrap.unpause()}else t.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var t=this,i=this.props.children?$.Children.only(this.props.children):void 0;if(i){if(i.type&&i.type===$.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var c=function(f){var v=t.props.containerElements;i&&(typeof i.ref=="function"?i.ref(f):i.ref&&(i.ref.current=f)),t.focusTrapElements=v||[f]},r=$.cloneElement(i,{ref:c});return r}return null}}])}($.Component),K=typeof Element>"u"?Function:Element;H.propTypes={active:l.bool,paused:l.bool,focusTrapOptions:l.shape({document:l.object,onActivate:l.func,onPostActivate:l.func,checkCanFocusTrap:l.func,onPause:l.func,onPostPause:l.func,onUnpause:l.func,onPostUnpause:l.func,onDeactivate:l.func,onPostDeactivate:l.func,checkCanReturnFocus:l.func,initialFocus:l.oneOfType([l.instanceOf(K),l.string,l.bool,l.func]),fallbackFocus:l.oneOfType([l.instanceOf(K),l.string,l.func]),escapeDeactivates:l.oneOfType([l.bool,l.func]),clickOutsideDeactivates:l.oneOfType([l.bool,l.func]),returnFocusOnDeactivate:l.bool,setReturnFocus:l.oneOfType([l.instanceOf(K),l.string,l.bool,l.func]),allowOutsideClick:l.oneOfType([l.bool,l.func]),preventScroll:l.bool,tabbableOptions:l.shape({displayCheck:l.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:l.oneOfType([l.bool,l.func])}),trapStack:l.array,isKeyForward:l.func,isKeyBackward:l.func}),containerElements:l.arrayOf(l.instanceOf(K)),children:l.oneOfType([l.element,l.instanceOf(K)])};H.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:gt};var wt=H;const Ot=Re(wt),Dt=({id:n,title:e,primaryBtnProps:a,secondaryBtnProps:t,linkBtnProps:i,hasSecondaryBtn:c,hasLinkBtn:r,children:d,hasFooter:f,open:v,onClose:T})=>{const h=he.useRef(null),F=v?{"aria-labelledby":`${n}-description`}:{},E=D=>{h.current&&!h.current.contains(D.target)&&T()};return k.jsx("div",{className:"gnb-modal left",id:n+crypto.randomUUID(),role:"dialog","aria-modal":"true","aria-hidden":!v,...F,onClick:E,children:v&&k.jsx(Ot,{focusTrapOptions:{clickOutsideDeactivates:!0,initialFocus:!1},children:k.jsxs("dialog",{ref:h,children:[k.jsxs("button",{className:"gnb-btn-close",onClick:T,children:[k.jsx("span",{className:"sr-only",children:"Close modal window"}),k.jsx(Pe,{icon:je})]}),k.jsx("div",{className:"gnb-modal-header",children:k.jsx("h2",{id:`${n}-title`,children:e})}),k.jsx("div",{className:"gnb-modal-body",id:`${n}-description`,children:d}),f&&k.jsx(xe,{primaryButtonLabel:a==null?void 0:a.label,secondaryButtonLabel:t==null?void 0:t.label,linkButtonLabel:i==null?void 0:i.label,disabledPrimaryBtn:a==null?void 0:a.disabled,handlePrimaryClick:a==null?void 0:a.onClick,handleSecondaryClick:t==null?void 0:t.onClick,handleLinkButtonClick:i==null?void 0:i.onClick,hasSecondaryBtn:c,hasLinkBtn:r,isModalFooter:!0})]})})})};export{Dt as M};
