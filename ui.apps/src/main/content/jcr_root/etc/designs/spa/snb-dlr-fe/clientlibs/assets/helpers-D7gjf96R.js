import{x as g,y as v,z}from"./index-BiH_W8qU.js";function b(t,e){return g(t,e==null?void 0:e.in).getDate()}function I(t,e){return g(t,e==null?void 0:e.in).getMonth()}function F(t,e){return g(t,e==null?void 0:e.in).getFullYear()}function H(t){return+g(t)>Date.now()}const T={},h={};function a(t,e){try{const n=(T[t]||(T[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return n in h?h[n]:$(n,n.split(":"))}catch{if(t in h)return h[t];const r=t==null?void 0:t.match(E);return r?$(t,r.slice(1)):NaN}}const E=/([+-]\d\d):?(\d\d)?/;function $(t,e){const r=+e[0],n=+(e[1]||0);return h[t]=r>0?r*60+n:r*60-n}class u extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(a(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),M(this),S(this)):this.setTime(Date.now())}static tz(e,...r){return r.length?new u(...r,e):new u(Date.now(),e)}withTimeZone(e){return new u(+this,e)}getTimezoneOffset(){return-a(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),S(this),+this}[Symbol.for("constructDateFrom")](e){return new u(+new Date(e),this.timeZone)}}const U=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!U.test(t))return;const e=t.replace(U,"$1UTC");u.prototype[e]&&(t.startsWith("get")?u.prototype[t]=function(){return this.internal[e]()}:(u.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),L(this),+this},u.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),S(this),+this}))});function S(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function L(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),M(t)}function M(t){const e=a(t.timeZone,t),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+t).getTimezoneOffset(),i=-new Date(+r).getTimezoneOffset(),f=n-i,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();f&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+f);const s=n-e;s&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+s);const l=a(t.timeZone,t),N=-new Date(+t).getTimezoneOffset()-l,O=l!==e,C=N-s;if(O&&C){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C);const d=a(t.timeZone,t),m=l-d;m&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+m),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m))}}class o extends u{static tz(e,...r){return r.length?new o(...r,e):new o(Date.now(),e)}toISOString(){const[e,r,n]=this.tzComponents(),i=`${e}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,r,n,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${n} ${r} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[r,n,i]=this.tzComponents();return`${e} GMT${r}${n}${i} (${x(this.timeZone,this)})`}toLocaleString(e,r){return Date.prototype.toLocaleString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(e,r){return Date.prototype.toLocaleDateString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(e,r){return Date.prototype.toLocaleTimeString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),r=e>0?"-":"+",n=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[r,n,i]}withTimeZone(e){return new o(+this,e)}[Symbol.for("constructDateFrom")](e){return new o(+new Date(e),this.timeZone)}}function x(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const P=t=>t==null?void 0:t.split(" ").map((e,r,n)=>`${e}${r===n.length-1?"":"-"}`).join(""),V=t=>{window.location.href=t},k=(t,e,r,n,i,f,c,s,l,w)=>t==="mvad-001"?e:t==="mvad-002"||t==="mvad-006"?r:t==="mvad-003"?n:t==="mvad-004"?i:t==="mvad-005"?f:t==="mvad-007"?c:t==="mvad-008"?s:t==="custom-006"?l:w+` [${t}]`,q=(t,e,r,n,i)=>t==="mvad-001"?e:t==="mvad-003"?r:t==="custom-006"?n:i+` [${t}]`,A=(t,e,r)=>{const n=Number(t),i=Number(e),f=Number(r);if(!Y(t)||!B(e)||!Z(r))return!1;const c=new o(n,i-1,f,"America/Halifax");return!(F(c)!==n||I(c)!==i-1||b(c)!==f||H(c))},Y=t=>{const e=Number(t);return!(isNaN(e)||e<1e3||e>9999)},B=t=>{const e=Number(t);return!(isNaN(e)||e<1||e>12)},Z=t=>{const e=Number(t);return!(isNaN(e)||e<1||e>31)},W=(t,e,r)=>`${String(t).padStart(4,"0")}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,j=t=>t.length===10?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:t.length===11?`+${t.slice(0,1)} (${t.slice(1,4)}) ${t.slice(4,7)}-${t.slice(7)}`:t,D=t=>{const e=t!=null&&t.fee?parseFloat(String(t==null?void 0:t.fee)):0;return{authorizationNum:(t==null?void 0:t.authorization)??"",dateTime:(t==null?void 0:t.dateTime)??"",hstNum:(t==null?void 0:t.hstNum)??"",itemNumber:(t==null?void 0:t.itemNumber)??"",itemTotal:e,paymentMethod:(t==null?void 0:t.paymentMethod)??"",phone:t!=null&&t.phone?j(t==null?void 0:t.phone):"",price:e,quantity:1,reference:(t==null?void 0:t.reference)??"",subtotal:e,total:e}},J=t=>{if(!t||t==="")return!0;const e=parseInt(t,10);return(Date.now()-e)/1e3>=z},K=()=>{sessionStorage.setItem("startTime",Date.now().toString())},Q=(t,e)=>{const r="https://www2.dev.snb.ca",n="/renew-drivers-licence",i="/renouveler-permis-de-conduire";return(e?e==="fr":v.language==="fr")?r+i+t:r+n+t};export{J as a,k as b,Q as c,q as d,W as e,P as f,Y as g,B as h,A as i,Z as j,D as k,V as n,K as r};
